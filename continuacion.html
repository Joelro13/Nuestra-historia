<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Final</title>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background-color: #e8f0ff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    height: 100vh;
    overflow-x: hidden;
    overflow-y: auto;
  }

  h1 {
    margin-top: 80px;
    font-size: 3rem;
    color: #1a1a1a;
  }

  p.subtexto {
    max-width: 650px;
    text-align: center;
    font-size: 1.1rem;
    margin: 20px 20px 40px 20px;
    color: #222;
  }

  /* ESTRELLAS */
  .estrellas {
    display: flex;
    gap: 8px;
    margin-bottom: 30px;
  }

  .estrella {
    font-size: 2.5rem;
    cursor: pointer;
    color: #ccc;
    transition: transform 0.2s, color 0.2s;
  }

  .estrella:hover,
  .estrella.hover,
  .estrella.selected {
    color: gold;
    transform: scale(1.3);
  }

  .mensaje-estrellas {
    font-size: 1.1rem;
    text-align: center;
    margin-bottom: 40px;
    min-height: 50px;
    color: #333;
  }

  /* BOTON FINAL */
  .btn-final {
    padding: 12px 25px;
    font-size: 1.1rem;
    border: none;
    border-radius: 8px;
    background-color: #4a1f2f;
    color: white;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    margin-bottom: 50px;
  }

  .btn-final:hover {
    background-color: #6b2a45;
  }

  /* CORAZON ANIMADO */
  .overlay-corazon {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: black;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    opacity: 0;
    pointer-events: none;
    z-index: 999;
  }

  .overlay-corazon.show {
    opacity: 1;
    pointer-events: all;
  }

  .corazon {
    font-size: 5rem;
    color: black;
    transition: font-size 1.5s ease-in-out;
  }

  .corazon.expand {
    font-size: 100vh;
  }

  .mensaje-final {
    color: white;
    font-size: 1.5rem;
    text-align: center;
    margin-top: 20px;
    font-family: monospace;
    white-space: pre-wrap;
  }

</style>
</head>
<body>

<h1>Final</h1>
<p class="subtexto">
  Eeee s칤, ya va siendo hora de dar por finalizado mi mini regalito, parece mentira pero esto es mucho curro ehh,
  he intentado usar mi imaginaci칩n para crear distintas situaciones m치s o menos reales en nuestra relaci칩n.
  Espero que te haya gustado much칤simo cari침o, y si te ha gustado, calif칤came anda.
</p>

<div class="estrellas">
  <span class="estrella" data-value="1">&#9733;</span>
  <span class="estrella" data-value="2">&#9733;</span>
  <span class="estrella" data-value="3">&#9733;</span>
  <span class="estrella" data-value="4">&#9733;</span>
  <span class="estrella" data-value="5">&#9733;</span>
  <span class="estrella" data-value="6">&#9733;</span>
  <span class="estrella" data-value="7">&#9733;</span>
  <span class="estrella" data-value="8">&#9733;</span>
  <span class="estrella" data-value="9">&#9733;</span>
  <span class="estrella" data-value="10">&#9733;</span>
</div>

<div class="mensaje-estrellas"></div>

<button class="btn-final">M치s cosas a칰n??</button>

<div class="overlay-corazon">
  <div class="corazon">游둯</div>
  <div class="mensaje-final"></div>
</div>

<script>
  // Manejo estrellas
  const estrellas = document.querySelectorAll('.estrella');
  const mensaje = document.querySelector('.mensaje-estrellas');
  let seleccion = 0;

  estrellas.forEach(e => {
    e.addEventListener('mouseover', () => {
      const val = parseInt(e.dataset.value);
      estrellas.forEach(s => s.classList.toggle('hover', parseInt(s.dataset.value) <= val));
    });
    e.addEventListener('mouseout', () => {
      estrellas.forEach(s => s.classList.remove('hover'));
    });
    e.addEventListener('click', () => {
      seleccion = parseInt(e.dataset.value);
      estrellas.forEach(s => s.classList.toggle('selected', parseInt(s.dataset.value) <= seleccion));
      if(seleccion === 1) mensaje.textContent = "Vale buena vacilada ahora pon tu opini칩n sincera bro";
      else if(seleccion >= 2 && seleccion <= 5) mensaje.textContent = "ENSERIO? venga no jodas JAJAJA";
      else if(seleccion >= 6 && seleccion <= 9) mensaje.textContent = "bueeno, respeto tu opini칩n pero no la comparto...";
      else if(seleccion === 10) mensaje.textContent = "Oleeee me alegro de que te haya gustado ya me dir치s si quieres que me curre m치s cositas de estas (espero que no lo hayas puesto para contentarme ehh)";
    });
  });

  // Bot칩n final y overlay coraz칩n
  const btnFinal = document.querySelector('.btn-final');
  const overlay = document.querySelector('.overlay-corazon');
  const corazon = document.querySelector('.corazon');
  const mensajeFinal = document.querySelector('.overlay-corazon .mensaje-final');

  btnFinal.addEventListener('click', () => {
    overlay.classList.add('show');

    // Peque침o retraso antes de expandir coraz칩n
    setTimeout(() => {
      corazon.classList.add('expand');
    }, 50);

    // Despu칠s de expandir, efecto m치quina de escribir
    setTimeout(() => {
      const texto = "Te quiero, con cari침o tu novio favorito Joel :)";
      let i = 0;
      function escribir() {
        if(i < texto.length){
          mensajeFinal.textContent += texto.charAt(i);
          i++;
          setTimeout(escribir, 50);
        }
      }
      escribir();
    }, 1600); // coincide con duraci칩n de expandir coraz칩n
  });
</script>

</body>
</html>
