<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vas con Joel a su casa</title>
  <style>
    body {
      background-color: #f0b7d4;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
      margin: 0;
      color: #333;
    }

    h1 {
      margin-top: 100px;
    }

    #texto {
      font-size: 1.2rem;
      margin: 30px auto;
      max-width: 600px;
      min-height: 160px;
    }

    .option-button {
      background-color: #f0b7d4;
      color: white;
      font-size: 1rem;
      padding: 10px 20px;
      margin: 10px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }

    .option-button:hover {
      background-color: #d89cbc;
    }

    .options-box {
      display: none;
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      padding: 20px;
      margin: 30px auto;
      width: fit-content;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);

    }
  </style>
</head>
<body>
  </div>

  <h1>Vas con Joel a su casa</h1>
  <div id="texto"></div>

  <div class="options-box" id="botones">
    <button class="option-button" onclick="mostrarSiguiente()">S√≠, narrador guapet√≥n</button>
    <button class="option-button" onclick="respuestaNegativa()">No, qu√© pereza</button>
  </div>

<script>
  const texto = `Os qued√°is en su casa y t√∫ comienzas a sentirte muy inc√≥moda porque bueno, es vuestra primera quedada y ya est√°is en su casa bro?, estas generaciones de hoy en d√≠a??... Ups me estoy saliendo del rol de narrador, mierda que me pongo nervioso, emm... ¬øQuieres que siga?`;
  const textoDiv = document.getElementById('texto');
  const botonesDiv = document.getElementById('botones');
  let i = 0;

  function escribirTexto() {
    if (i < texto.length) {
      textoDiv.innerHTML += texto.charAt(i);

      let pausa = 30;
      const siguiente = texto.slice(i, i + 5);

      if (siguiente.startsWith('...')) {
        pausa = 600;
      } else if (texto.charAt(i) === ',' || texto.charAt(i) === '?') {
        pausa = 250;
      } else if (texto.charAt(i) === '.') {
        pausa = 350;
      } else if (texto.slice(i - 3, i + 1) === "emm.") {
        pausa = 450;
      }

      i++;
      setTimeout(escribirTexto, pausa);
    } else {
      botonesDiv.style.display = 'block';
    }
  }

  function mostrarSiguiente() {
    textoDiv.innerHTML = '';
    i = 0;
    const nuevoTexto = `Vale, vale, ya me calmo... Contin√∫o.`;
    let j = 0;

    function escribirNuevo() {
      if (j < nuevoTexto.length) {
        textoDiv.innerHTML += nuevoTexto.charAt(j);

        let pausa = 35;
        const siguiente = nuevoTexto.slice(j, j + 3);
        if (siguiente === "...") {
          pausa = 400;
        } else if (nuevoTexto.charAt(j) === ',' || nuevoTexto.charAt(j) === '.') {
          pausa = 100;
        }

        j++;
        setTimeout(escribirNuevo, pausa);
      }
    }

    escribirNuevo();
    botonesDiv.style.display = 'none';
  }

  function respuestaNegativa() {
    textoDiv.innerHTML = 'Perfecto, dejo el narrador en modo ahorro de bater√≠a. Apagando... üíÄ';
    botonesDiv.style.display = 'none';
  }

  escribirTexto();
</script>
